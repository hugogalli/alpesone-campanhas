{% set c = c %}
{% set galeria = c.section2.gallery ?? [] %}
{% set gid = 'galeria-' ~ c.id %}

<section class="py-12 md:py-16">
  <div class="w-full px-4">
    {% if c.section2.title or c.section2.subtitle %}
      <header class="text-center mb-8 md:mb-10 max-w-3xl mx-auto">
        {% if c.section2.title %}
          <h2 class="text-3xl md:text-4xl font-semibold text-gray-900">{{ c.section2.title }}</h2>
        {% endif %}
        {% if c.section2.subtitle %}
          <p class="mt-3 text-gray-600 text-lg">{{ c.section2.subtitle }}</p>
        {% endif %}
      </header>
    {% endif %}

    {% if galeria|length %}
      <div id="{{ gid }}" class="relative mx-auto max-w-3xl"
           data-carousel data-caption="#{{ gid }}-caption">
        <div class="overflow-hidden rounded-xl border border-gray-200 shadow-sm bg-white">
          <div class="flex transition-transform duration-500 will-change-transform" data-track>
            {% for item in galeria %}
              <figure class="w-full shrink-0 m-0">
                {% if item.image %}
                  <img src="{{ item.image|media }}"
                       alt="{{ item.alt ?? '' }}"
                       data-caption="{{ item.alt ?? '' }}"
                       class="block w-full aspect-[16/9] max-h-[480px] object-cover">
                {% else %}
                  <div class="block w-full aspect-[16/9] max-h-[480px] bg-gray-100"></div>
                {% endif %}
              </figure>
            {% endfor %}
          </div>
        </div>

        <button type="button" class="carousel-btn left-3"  data-prev aria-label="Anterior">‹</button>
        <button type="button" class="carousel-btn right-3" data-next aria-label="Próximo">›</button>
      </div>

      <p id="{{ gid }}-caption"
         class="mt-4 text-center text-lg md:text-xl font-semibold text-gray-800 tracking-wide"></p>

      <div class="mt-8 md:mt-10 text-center">
        <a href="#contato" class="btn-primary">Tenho interesse</a>
      </div>
    {% endif %}
  </div>
</section>
